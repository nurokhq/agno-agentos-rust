/*
 * Agno AgentOS
 *
 * Nurok AI's Agent OS
 *
 * The version of the OpenAPI document: 1.0.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::generated::models;
use serde::{Deserialize, Serialize};

/// ParseWorkflowRequest : Request schema for parse workflow
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct ParseWorkflowRequest {
    /// Description of the content and extraction goals
    #[serde(rename = "context")]
    pub context: String,
    /// Type of content (markdown, html, json, etc.)
    #[serde(rename = "content_type")]
    pub content_type: models::ContentType,
    /// The content to parse
    #[serde(rename = "content")]
    pub content: String,
    /// List of required field definitions
    #[serde(rename = "required_fields")]
    pub required_fields: Vec<models::FieldDefinition>,
    #[serde(
        rename = "optional_fields",
        default,
        with = "::serde_with::rust::double_option",
        skip_serializing_if = "Option::is_none"
    )]
    pub optional_fields: Option<Option<Vec<models::FieldDefinition>>>,
}

impl ParseWorkflowRequest {
    /// Request schema for parse workflow
    pub fn new(
        context: String,
        content_type: models::ContentType,
        content: String,
        required_fields: Vec<models::FieldDefinition>,
    ) -> ParseWorkflowRequest {
        ParseWorkflowRequest {
            context,
            content_type,
            content,
            required_fields,
            optional_fields: None,
        }
    }
}
